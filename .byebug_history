exit
User.find_by_id(session[:user_id]).rank >= 2
User.find_by_id(session[:user_id]).nil?
session[:user_id].nil?
(session[:user_id].nil? or user.id != session[:user_id]) and (User.find_by_id(session[:user_id]).nil? or User.find_by_id(session[:user_id]).rank >= 2)
user
exit
exiyt
exit
user
exit
Participant.find_by_event_id_and_user_id(participant.event.id, participant.id)
participant.event.id
participant.id
different_user.id
exit
session[:user_id]
exit
session[:user_id]
exit
User.find_by_id(id)
id = session[:user_id]
session[:user_id]
session[:user_id
exit
params[:participant]
session[:user_id]
exit
User.find_by_id(session[:user_id])
User.find_by_id(sessino[:user_id])
exit
User.find_by_id(session[:user_id])
User.find_by_user_id(session[:user_id])
exit
event.participants
exit
event.participants
event.participants.find_by_user_id(session[:user_id])
event.participants.find_by_user_id(session[:user_id]).user
event.participants
exit
participant.errors
exit
params[:participant][:user_id] == session[:user_id].to_s
params[:participant][:user_id] != session[:user_id].to_s
session[:user_id].nil? or params[:participant][:user_id] != session[:user_id].to_s
params[:participant][:user_id]
params
session[:user_id]
